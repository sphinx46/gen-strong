spring:
  application:
    name: telegram-gym-bot

  profiles:
    active: ${APP_PROFILE:dev}

  jpa:
    open-in-view: false
    generate-ddl: true
    properties:
      hibernate:
        ddl-auto: ${SPRING_JPA_DDL_AUTO:update}
        jdbc:
          lob:
            non_contextual_creation: true
        current_session_context_class: thread

  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB

  cache:
    type: simple
    cache-names: users,visits,reports
    caffeine:
      spec: maximumSize=1000,expireAfterAccess=1h

  task:
    scheduling:
      enabled: true

server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: ${SERVER_CONTEXT_PATH:}
  compression:
    enabled: true
    mime-types: text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
    min-response-size: 1024

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
      base-path: /actuator
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
    metrics:
      enabled: true

telegram:
  bot:
    token: ${TELEGRAM_BOT_TOKEN:}
    username: ${TELEGRAM_BOT_USERNAME:}
    name: ${TELEGRAM_BOT_NAME:Gym Bot}
    long-polling:
      timeout: ${TELEGRAM_POLLING_TIMEOUT:30}
      limit: ${TELEGRAM_POLLING_LIMIT:100}
      max-threads: ${TELEGRAM_POLLING_THREADS:10}
    proxy:
      enabled: ${TELEGRAM_PROXY_ENABLED:false}
      host: ${TELEGRAM_PROXY_HOST:}
      port: ${TELEGRAM_PROXY_PORT:}
      type: ${TELEGRAM_PROXY_TYPE:SOCKS5}
    commands:
      start: "/start"
      check-in: "–Ø –≤ –∑–∞–ª–µ"
      admin: "/admin"
      report-all: "/report_all"
      report-date: "/report_date"
    messages:
      welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?"
      check-in-success: "‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ã!"
      already-checked-in: "‚ö†Ô∏è –í—ã —É–∂–µ –æ—Ç–º–µ—Ç–∏–ª–∏—Å—å —Å–µ–≥–æ–¥–Ω—è!"
      admin-greeting: "üë®‚Äçüíº –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:"
      report-prompt: "üìä –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ç—á–µ—Ç–∞:"

app:
  security:
    admin-telegram-ids: ${ADMIN_TELEGRAM_IDS:}
    max-login-attempts: 5

  scheduler:
    enabled: ${SCHEDULER_ENABLED:true}
    cleanup:
      enabled: true
      cron: "0 0 2 * * ?"
      retention-days: 90
    report:
      enabled: true
      cron: "0 0 20 * * ?"

  cache:
    enabled: ${CACHE_ENABLED:true}
    ttl-hours: ${CACHE_TTL_HOURS:24}

  features:
    enable-notifications: ${ENABLE_NOTIFICATIONS:true}
    enable-analytics: ${ENABLE_ANALYTICS:false}

logging:
  level:
    ru.cs.vsu.social_network.telegram_bot: ${LOG_LEVEL:INFO}
    org.springframework.web: INFO
    org.hibernate.SQL: ${HIBERNATE_SQL_LOG:WARN}
    org.telegram: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: ${LOG_FILE_PATH:logs/gym-bot.log}
    max-size: 10MB
    max-history: 30